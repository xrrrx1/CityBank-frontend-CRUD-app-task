(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,n){e.exports=n(78)},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),u=n(5),l=n.n(u),o=n(10),s=n(2),d=n(3),f=n(82),p=n(83),m=n(84),E=n(81),h=r.a.createContext({});r.a.createContext({});function v(){var e=Object(s.a)(["\n  color: black;\n"]);return v=function(){return e},e}var b=d.a.button(v()),y=function(e){var t=e.label,n=e.type,a=e.id,c=e.editingUser,i=e.isEdit,u=e.isCreate;return i||u?r.a.createElement(b,{type:n},r.a.createElement("span",null,t)):r.a.createElement(b,{type:n,onClick:function(){return c(a)}},r.a.createElement("span",null,t))};y.defaultProps={type:"button",id:null,isEdit:!1,isCreate:!1,editingUser:null};var g=y;function x(){var e=Object(s.a)(["\n  padding: 5px 10px;\n"]);return x=function(){return e},e}function O(){var e=Object(s.a)(["\n  font-size: 1.1rem;\n  font-weight: 600;\n  padding-bottom: 5px;\n"]);return O=function(){return e},e}function w(){var e=Object(s.a)(["\n  font-size: 1rem;\n  font-weight: 600;\n"]);return w=function(){return e},e}function j(){var e=Object(s.a)(["\n  margin: 5px 0;\n  padding: 5px;\n  display: flex;\n  :hover {\n    background-color: #f5f5f5;\n  }\n"]);return j=function(){return e},e}var U=d.a.div(j()),k=d.a.div(w()),C=d.a.div(O()),B=d.a.div(x()),R=function(e){var t=e.name,n=e.city,a=e.dateOfBirth,c=e.phone,i=e.address,u=e.id,l=e.editingUser;return r.a.createElement(U,null,r.a.createElement(B,null,r.a.createElement(C,null,"Name:"),r.a.createElement(k,null,"Phone: "),r.a.createElement(k,null,"Date of Birth: "),r.a.createElement(k,null,"Address:"),r.a.createElement(k,null,"City: "),r.a.createElement("div",null,r.a.createElement(g,{label:"Edit user",type:"button",id:u,editingUser:l}))),r.a.createElement(B,null,r.a.createElement(C,null,t),r.a.createElement(k,null,"8-".concat(c)),r.a.createElement(k,null,a.split("-").reverse().join(" ")),r.a.createElement(k,null,i),r.a.createElement(k,null,n)))};R.defaultProps={city:"",address:""};var S=R,_=n(39),D=n.n(_);function N(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  font-weight: bold;\n  color: ",";\n"]);return N=function(){return e},e}var L=d.a.div(N(),function(e){return e.color}),A=function(e){var t=e.color;return r.a.createElement(L,{color:t},r.a.createElement("span",null,"Loading"),r.a.createElement(D.a,{type:"bubbles",color:t}))},I=function(){var e=Object(a.useContext)(h),t=e.store,n=e.getUsers,c=e.editingUser;return Object(a.useEffect)(function(){n()},[]),t.isEdit?r.a.createElement(E.a,{to:"/edit_user"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t.isLoading?r.a.createElement("div",null,r.a.createElement(A,{color:"black"})):r.a.createElement("div",null,t.hasData?t.users.map(function(e){return r.a.createElement(S,{key:e.id,id:e.id,name:e.name,city:e.city,dateOfBirth:e.dateOfBirth,phone:e.phone,address:e.address,editingUser:c})}):null)))},T=n(11);function z(){var e=Object(s.a)(["\n  color: red;\n"]);return z=function(){return e},e}function F(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  span {\n    font-size: 1rem;\n    font-weight: 600;\n  }\n  input {\n    width: 168px;\n  }\n  input:focus {\n    border: 2px solid #ff8e53;\n    outline: none;\n  }\n"]);return F=function(){return e},e}function P(){var e=Object(s.a)(["\n  border: 1px solid #f5f5f5;\n  box-shadow: 0 10px 35px -15px rgba(0, 0, 0, 0.2);\n"]);return P=function(){return e},e}function W(){var e=Object(s.a)(["\n  color: #000000;\n  font-size: 2rem;\n  font-weight: 700;\n  text-align: center;\n  margin-bottom: 30px;\n  font-family: 'Montserrat', sans-serif;\n"]);return W=function(){return e},e}function q(){var e=Object(s.a)(["\n  width: 400px;\n  margin: 10px 0;\n"]);return q=function(){return e},e}function G(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n"]);return G=function(){return e},e}var J=d.a.div(G()),M=d.a.div(q()),V=d.a.div(W()),$=d.a.div(P()),Q=d.a.div(F()),H=d.a.div(z()),K=function(){var e=Object(a.useContext)(h),t=e.store,n=e.addNewUser,c=e.editUser,i=t.isEdit&&t.users.filter(function(e){return e.id===t.id})[0];return t.isEdit||t.isCreate?r.a.createElement(J,null,r.a.createElement(M,null,r.a.createElement(V,null,r.a.createElement("h2",null,"User Form")),r.a.createElement($,null,r.a.createElement(T.d,{initialValues:{phone:"".concat(t.isEdit?i.phone:""),name:"".concat(t.isEdit?i.name:""),dateOfBirth:"".concat(t.isEdit?i.dateOfBirth:""),address:"".concat(t.isEdit?i.address:""),city:"".concat(t.isEdit?i.city:"")},validate:function(e){var t={};return e.phone?/^[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}$/i.test(e.phone)||(t.phone="Bad Format"):t.phone="Required",e.name||(t.name="Required"),e.dateOfBirth||(t.dateOfBirth="Required"),t},onSubmit:function(e,a){var r=a.setSubmitting;setTimeout(function(){t.isEdit&&c(e,t.id),t.isCreate&&n(e),r(!1)},0)}},function(e){var n=e.isSubmitting;return r.a.createElement(T.c,null,r.a.createElement(Q,null,r.a.createElement("span",null,"\u0424\u0418\u041e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 : "),r.a.createElement(H,null,r.a.createElement(T.a,{name:"name",component:"div"})),r.a.createElement(T.b,{type:"name",name:"name",maxLength:"100",minLength:"4"})),r.a.createElement(Q,null,r.a.createElement("span",null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f :"),r.a.createElement(H,null,r.a.createElement(T.a,{name:"dateOfBirth",component:"div"})),r.a.createElement(T.b,{type:"date",name:"dateOfBirth"})),r.a.createElement(Q,null,r.a.createElement("span",null,"\u0410\u0434\u0440\u0435\u0441 :"),r.a.createElement(T.b,{type:"address",name:"address"})),r.a.createElement(Q,null,r.a.createElement("span",null,"\u0413\u043e\u0440\u043e\u0434 :"),r.a.createElement(T.b,{type:"city",name:"city"})),r.a.createElement(Q,null,r.a.createElement("span",null,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d(\u041c\u043e\u0431.) :"),r.a.createElement(H,null,r.a.createElement(T.a,{name:"phone",component:"div"})),r.a.createElement(T.b,{type:"phone",name:"phone",placeholder:"777-777-77-77"})),r.a.createElement(Q,null,r.a.createElement(g,{label:t.isCreate?"Add":"Edit",type:"submit",disabled:n,isCreate:t.isCreate,isEdit:t.isEdit})))})))):r.a.createElement(E.a,{to:"/"})},X=n(80);function Y(){var e=Object(s.a)(["\n  color: black;\n  font-size: 26px;\n  height: 100%;\n  margin: 0 40px;\n"]);return Y=function(){return e},e}var Z=d.a.button(Y()),ee=function(e){var t=e.to,n=e.label,a=e.click;return r.a.createElement(X.a,{to:t},r.a.createElement(Z,{onClick:a},r.a.createElement("span",null,n)))};ee.defaultProps={click:null};var te=ee,ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"404 PAGE NOT FOUND"))};function ae(){var e=Object(s.a)([""]);return ae=function(){return e},e}function re(){var e=Object(s.a)(["\n  height: 100%;\n  display: flex;\n"]);return re=function(){return e},e}function ce(){var e=Object(s.a)(["\n  height: 60px;\n  display: flex;\n  background-color: #f5f5f5;\n"]);return ce=function(){return e},e}var ie=d.a.div(ce()),ue=d.a.div(re()),le=d.a.div(ae()),oe=function(){var e=Object(a.useContext)(h),t=e.store,n=e.addingNewUser,c=e.cancelUser,i=e.deleteUser,u=function(){var e=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t.id);case 2:return e.next=4,c();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(f.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,r.a.createElement("header",null,t.isCreate||t.isEdit?r.a.createElement(ue,null,r.a.createElement(te,{to:"/",label:"Main page",click:function(){c()}}),t.isEdit&&r.a.createElement(te,{to:"/",label:"Delete user",click:u})):r.a.createElement(ue,null,r.a.createElement(te,{to:"/add_user",label:"Add user",click:function(){n()}})))),r.a.createElement(le,null,r.a.createElement(p.a,null,r.a.createElement(m.a,{exact:!0,path:"/",component:I}),r.a.createElement(m.a,{path:"/add_user",component:K}),r.a.createElement(m.a,{path:"/edit_user",component:K}),r.a.createElement(m.a,{path:"*",component:ne})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=n(43),de=n(15),fe=n.n(de),pe="//5b06530aff98d70014f387f9.mockapi.io/users/",me="USERS_REQUEST",Ee="USERS_RECEIVE",he="ADDING_NEW_USER",ve="ADD_NEW_USER",be="CANCEL_USER",ye="EDIT_USER",ge="EDITING_USER",xe="DELETE_USER",Oe=n(13),we={users:[],isLoading:!1,hasData:!1,isEdit:!1,isCreate:!1,id:null};function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case me:return Object(Oe.a)({},e,{isLoading:!0});case Ee:return Object(Oe.a)({},e,{users:a,isLoading:!1,hasData:!0});case he:return Object(Oe.a)({},e,{isCreate:!0});case ve:return Object(Oe.a)({},e,{isCreate:!1});case ge:return Object(Oe.a)({},e,{id:a,isEdit:!0});case ye:return Object(Oe.a)({},e,{isEdit:!1});case be:case xe:return Object(Oe.a)({},e,{isCreate:!1,isEdit:!1});default:return e}}var Ue=function(e){return Number(e)+1},ke=function(e){var t=e.children,n=Object(a.useReducer)(je,[]),c=Object(se.a)(n,2),i=c[0],u=c[1],s=function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.get(pe);case 3:t=e.sent,u({type:me}),setTimeout(function(){u({type:Ee,payload:t.data})},0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.get(pe);case 2:return t=e.sent,e.abrupt("return",t.data[t.data.length-1].id);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(l.a.mark(function e(t){var n,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:return n=e.sent,e.next=6,Ue(n);case 6:return a=e.sent,r={id:a,name:t.name,city:t.city,dateOfBirth:t.dateOfBirth,phone:t.phone,address:t.address},e.next=10,fe.a.post(pe,r);case 10:u({type:ve}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u({type:he});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u({type:ge,payload:t});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(l.a.mark(function e(t,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.put("".concat(pe).concat(n),t);case 2:u({type:ye});case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u({type:be});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.a.delete("".concat(pe).concat(t));case 2:u({type:xe});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.Provider,{value:{store:i,getUsers:s,getLastUserId:d,addNewUser:f,addingNewUser:p,editingUser:m,editUser:E,cancelUser:v,deleteUser:b}},t)};i.a.render(r.a.createElement(ke,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,2,1]]]);
//# sourceMappingURL=main.b1c61534.chunk.js.map